// https://github.com/synesenom/mostrar v0.1.5 Copyright 2021 Enys Mones
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("js-yaml")):"function"==typeof define&&define.amd?define(["exports","js-yaml"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).mostrar={},t.jsyaml)}(this,(function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(e);function i(t={}){const e={attributes:Object.assign({},t)},n={size:()=>Object.keys(e.attributes).length,_get:()=>e.attributes,apply:t=>(Object.entries(e.attributes).forEach((([e,n])=>t.attr(e,n))),t),diffTo:t=>i(Object.entries(t._get()).reduce(((t,[n,r])=>(r!==e.attributes[n]&&(t[n]=r),t)),{})),filter:t=>i(Object.entries(e.attributes).reduce(((e,[n,r])=>(r!==t.attr(n)&&(e[n]=r),e)),{})),diff:(t,n)=>i(Object.entries(t._get()).reduce(((t,[r,i])=>(i===e.attributes[r]&&i===n.attr(r)||(t[r]=i),t)),{}))};return n}function s(t={}){const e={style:Object.assign({},t)},n={toString:()=>`Style{${Object.keys(e.style).sort().map((t=>`${t}: "${e.style[t]}"`)).join(", ")}}`,size:()=>Object.keys(e.style).length,_get:()=>e.style,apply:t=>(Object.entries(e.style).forEach((([e,n])=>t.style(e,n))),t),diffTo:t=>s(Object.entries(t._get()).reduce(((t,[n,r])=>(r!==e.style[n]&&(t[n]=r),t)),{})),filter:t=>s(Object.entries(e.style).reduce(((e,[n,r])=>(r!==t.style(n)&&(e[n]=r),e)),{})),diff:(t,n)=>s(Object.entries(t._get()).reduce(((t,[r,i])=>(i===e.style[r]&&i===n.style(r)||(t[r]=i),t)),{}))};return n}function o(t={}){const e={attr:i(t.attr||{}),style:s(t.style||{}),delay:t.delay||0,duration:t.duration||0,selector:new Set(t.selector||[])},n={toString:()=>{let t=[];return e.attr.size()>0&&t.push("attr: "+e.attr.toString()),e.delay>0&&t.push("delay: "+e.delay),e.duration>0&&t.push("duration: "+e.duration),e.selector.size>0&&t.push(`selector: [${[...e.selector].sort().join(", ")}]`),e.style.size()>0&&t.push("style: "+e.style.toString()),`Transition{${t.join(", ")}}`},includes:t=>(t||[]).filter((t=>e.selector.has(t))).length>0};return n}function a(t=[],e){const n={transitions:t.map(o)},r={toString:()=>`TransitionCollection[${n.transitions.map((t=>t.toString())).join(", ")}]`,size:()=>n.transitions.length};return r}function u(t,e){const n={index:e,name:t.name,enter:a(t.enter),update:a(t.update),exit:a(t.exit)},r={toString:()=>{const t=["index: "+n.index];return void 0!==n.name&&t.push(`name: "${n.name}"`),n.enter.size()>0&&t.push("enter: "+n.enter.toString()),n.update.size()>0&&t.push("update: "+n.update.toString()),n.exit.size()>0&&t.push("exit: "+n.exit.toString()),`Frame{${t.join(", ")}}`}};return r}function c(t=[]){const e={frames:t.map(u)},n={toString:()=>`FrameCollection[${e.frames.map((t=>t.toString())).join(", ")}]`};return n}t.Scene=function(t){const e={frames:c(),current:0,objects:[]},n={init:async t=>{const i=await fetch(t).then((t=>t.text())),s=r.default.load(i);return e.frames=c(s),n}};return n},Object.defineProperty(t,"__esModule",{value:!0})}));
